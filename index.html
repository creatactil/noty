<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <title>Tutorial Push</title>
        <script>
            document.addEventListener("deviceready", deviceReady, false);
            function deviceReady() {
               
			   alert("Entra");
			    var push = PushNotification.init({
                    android: {
                        senderID: "109603757979"
                    },
					browser: {
        				pushServiceURL: 'http://push.api.phonegap.com/v1/push'
    				},
                    ios: {
                        alert: "true",
                        badge: "true",
                        sound: "true"
                    }
                });
                                                 
                push.on('registration', function(data) {
                    document.getElementById("idDispositivo").innerHTML = data.registrationId;
					
					document.getElementById("regId").value = data.registrationId ;
					alert(data.registrationId);
                });
				
                push.on('notification', function(data) {
                    var ul = document.getElementById("notificacionesPush");
                    var li = document.createElement("li");
                    li.appendChild(document.createTextNode(data.title+": "+data.message));
                    ul.appendChild(li);
					
                });
            }
        </script>
    </head>
    <body>
        <div class="app">
            <h1>Tutorial Push</h1>
            <p id="idDispositivo"></p>
            <ul id="notificacionesPush">
            </ul>
           
           <input name="regId" id="regId"> 
           <button onClick="deviceReady()">ready</button>
        </div>
        <script type="text/javascript" src="phonegap.js"></script>
    </body>
</html>
